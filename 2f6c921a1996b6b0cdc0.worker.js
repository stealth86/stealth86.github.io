!function(r){function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="/",t(t.s=1)}([function(r,t,e){"use strict";(function(r){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(r,t){if(n()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=i.prototype):(null===r&&(r=new i(t)),r.length=t),r}function i(r,t,e){if(!i.TYPED_ARRAY_SUPPORT&&!(this instanceof i))return new i(r,t,e);if("number"===typeof r){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,r)}return a(this,r,t,e)}function a(r,t,e,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?l(r,t,e,n):"string"===typeof t?h(r,t,e):p(r,t)}function f(r){if("number"!==typeof r)throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function s(r,t,e,n){return f(t),t<=0?o(r,t):void 0!==e?"string"===typeof n?o(r,t).fill(e,n):o(r,t).fill(e):o(r,t)}function u(r,t){if(f(t),r=o(r,t<0?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}function h(r,t,e){if("string"===typeof e&&""!==e||(e="utf8"),!i.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(t,e);r=o(r,n);var a=r.write(t,e);return a!==n&&(r=r.slice(0,a)),r}function c(r,t){var e=t.length<0?0:0|g(t.length);r=o(r,e);for(var n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),i.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=i.prototype):r=c(r,t),r}function p(r,t){if(i.isBuffer(t)){var e=0|g(t.length);return r=o(r,e),0===r.length?r:(t.copy(r,0,0,e),r)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||Q(t.length)?o(r,0):c(r,t);if("Buffer"===t.type&&K(t.data))return c(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(r){if(r>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|r}function d(r){return+r!=r&&(r=0),i.alloc(+r)}function v(r,t){if(i.isBuffer(r))return r.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!==typeof r&&(r=""+r);var e=r.length;if(0===e)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return q(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return G(r).length;default:if(n)return q(r).length;t=(""+t).toLowerCase(),n=!0}}function w(r,t,e){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if(e>>>=0,t>>>=0,e<=t)return"";for(r||(r="utf8");;)switch(r){case"hex":return C(this,t,e);case"utf8":case"utf-8":return B(this,t,e);case"ascii":return Y(this,t,e);case"latin1":case"binary":return k(this,t,e);case"base64":return U(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function y(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function m(r,t,e,n,o){if(0===r.length)return-1;if("string"===typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(o)return-1;e=r.length-1}else if(e<0){if(!o)return-1;e=0}if("string"===typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:b(r,t,e,n,o);if("number"===typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):b(r,[t],e,n,o);throw new TypeError("val must be string, number or Buffer")}function b(r,t,e,n,o){function i(r,t){return 1===a?r[t]:r.readUInt16BE(t*a)}var a=1,f=r.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(r.length<2||t.length<2)return-1;a=2,f/=2,s/=2,e/=2}var u;if(o){var h=-1;for(u=e;u<f;u++)if(i(r,u)===i(t,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===s)return h*a}else-1!==h&&(u-=u-h),h=-1}else for(e+s>f&&(e=f-s),u=e;u>=0;u--){for(var c=!0,l=0;l<s;l++)if(i(r,u+l)!==i(t,l)){c=!1;break}if(c)return u}return-1}function A(r,t,e,n){e=Number(e)||0;var o=r.length-e;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var f=parseInt(t.substr(2*a,2),16);if(isNaN(f))return a;r[e+a]=f}return a}function E(r,t,e,n){return J(q(t,r.length-e),r,e,n)}function P(r,t,e,n){return J(H(t),r,e,n)}function T(r,t,e,n){return P(r,t,e,n)}function R(r,t,e,n){return J(G(t),r,e,n)}function _(r,t,e,n){return J(V(t,r.length-e),r,e,n)}function U(r,t,e){return 0===t&&e===r.length?W.fromByteArray(r):W.fromByteArray(r.slice(t,e))}function B(r,t,e){e=Math.min(r.length,e);for(var n=[],o=t;o<e;){var i=r[o],a=null,f=i>239?4:i>223?3:i>191?2:1;if(o+f<=e){var s,u,h,c;switch(f){case 1:i<128&&(a=i);break;case 2:s=r[o+1],128===(192&s)&&(c=(31&i)<<6|63&s)>127&&(a=c);break;case 3:s=r[o+1],u=r[o+2],128===(192&s)&&128===(192&u)&&(c=(15&i)<<12|(63&s)<<6|63&u)>2047&&(c<55296||c>57343)&&(a=c);break;case 4:s=r[o+1],u=r[o+2],h=r[o+3],128===(192&s)&&128===(192&u)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&h)>65535&&c<1114112&&(a=c)}}null===a?(a=65533,f=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=f}return S(n)}function S(r){var t=r.length;if(t<=$)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=$));return e}function Y(r,t,e){var n="";e=Math.min(r.length,e);for(var o=t;o<e;++o)n+=String.fromCharCode(127&r[o]);return n}function k(r,t,e){var n="";e=Math.min(r.length,e);for(var o=t;o<e;++o)n+=String.fromCharCode(r[o]);return n}function C(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var o="",i=t;i<e;++i)o+=F(r[i]);return o}function I(r,t,e){for(var n=r.slice(t,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function M(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}function x(r,t,e,n,o,a){if(!i.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}function L(r,t,e,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(r.length-e,2);o<i;++o)r[e+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function O(r,t,e,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(r.length-e,4);o<i;++o)r[e+o]=t>>>8*(n?o:3-o)&255}function D(r,t,e,n,o,i){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function X(r,t,e,n,o){return o||D(r,t,e,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(r,t,e,n,23,4),e+4}function N(r,t,e,n,o){return o||D(r,t,e,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(r,t,e,n,52,8),e+8}function j(r){if(r=z(r).replace(rr,""),r.length<2)return"";for(;r.length%4!==0;)r+="=";return r}function z(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function F(r){return r<16?"0"+r.toString(16):r.toString(16)}function q(r,t){t=t||1/0;for(var e,n=r.length,o=null,i=[],a=0;a<n;++a){if((e=r.charCodeAt(a))>55295&&e<57344){if(!o){if(e>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(t-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((t-=1)<0)break;i.push(e)}else if(e<2048){if((t-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function H(r){for(var t=[],e=0;e<r.length;++e)t.push(255&r.charCodeAt(e));return t}function V(r,t){for(var e,n,o,i=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,o=e%256,i.push(o),i.push(n);return i}function G(r){return W.toByteArray(j(r))}function J(r,t,e,n){for(var o=0;o<n&&!(o+e>=t.length||o>=r.length);++o)t[o+e]=r[o];return o}function Q(r){return r!==r}var W=e(4),Z=e(5),K=e(6);t.Buffer=i,t.SlowBuffer=d,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()&&"function"===typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(r){return!1}}(),t.kMaxLength=n(),i.poolSize=8192,i._augment=function(r){return r.__proto__=i.prototype,r},i.from=function(r,t,e){return a(null,r,t,e)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(r,t,e){return s(null,r,t,e)},i.allocUnsafe=function(r){return u(null,r)},i.allocUnsafeSlow=function(r){return u(null,r)},i.isBuffer=function(r){return!(null==r||!r._isBuffer)},i.compare=function(r,t){if(!i.isBuffer(r)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var e=r.length,n=t.length,o=0,a=Math.min(e,n);o<a;++o)if(r[o]!==t[o]){e=r[o],n=t[o];break}return e<n?-1:n<e?1:0},i.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(r,t){if(!K(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return i.alloc(0);var e;if(void 0===t)for(t=0,e=0;e<r.length;++e)t+=r[e].length;var n=i.allocUnsafe(t),o=0;for(e=0;e<r.length;++e){var a=r[e];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)y(this,t,t+1);return this},i.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},i.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},i.prototype.toString=function(){var r=0|this.length;return 0===r?"":0===arguments.length?B(this,0,r):w.apply(this,arguments)},i.prototype.equals=function(r){if(!i.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===i.compare(this,r)},i.prototype.inspect=function(){var r="",e=t.INSPECT_MAX_BYTES;return this.length>0&&(r=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(r+=" ... ")),"<Buffer "+r+">"},i.prototype.compare=function(r,t,e,n,o){if(!i.isBuffer(r))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===e&&(e=r?r.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||e>r.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=e)return 0;if(n>=o)return-1;if(t>=e)return 1;if(t>>>=0,e>>>=0,n>>>=0,o>>>=0,this===r)return 0;for(var a=o-n,f=e-t,s=Math.min(a,f),u=this.slice(n,o),h=r.slice(t,e),c=0;c<s;++c)if(u[c]!==h[c]){a=u[c],f=h[c];break}return a<f?-1:f<a?1:0},i.prototype.includes=function(r,t,e){return-1!==this.indexOf(r,t,e)},i.prototype.indexOf=function(r,t,e){return m(this,r,t,e,!0)},i.prototype.lastIndexOf=function(r,t,e){return m(this,r,t,e,!1)},i.prototype.write=function(r,t,e,n){if(void 0===t)n="utf8",e=this.length,t=0;else if(void 0===e&&"string"===typeof t)n=t,e=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var o=this.length-t;if((void 0===e||e>o)&&(e=o),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return A(this,r,t,e);case"utf8":case"utf-8":return E(this,r,t,e);case"ascii":return P(this,r,t,e);case"latin1":case"binary":return T(this,r,t,e);case"base64":return R(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,r,t,e);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;i.prototype.slice=function(r,t){var e=this.length;r=~~r,t=void 0===t?e:~~t,r<0?(r+=e)<0&&(r=0):r>e&&(r=e),t<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r);var n;if(i.TYPED_ARRAY_SUPPORT)n=this.subarray(r,t),n.__proto__=i.prototype;else{var o=t-r;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+r]}return n},i.prototype.readUIntLE=function(r,t,e){r|=0,t|=0,e||M(r,t,this.length);for(var n=this[r],o=1,i=0;++i<t&&(o*=256);)n+=this[r+i]*o;return n},i.prototype.readUIntBE=function(r,t,e){r|=0,t|=0,e||M(r,t,this.length);for(var n=this[r+--t],o=1;t>0&&(o*=256);)n+=this[r+--t]*o;return n},i.prototype.readUInt8=function(r,t){return t||M(r,1,this.length),this[r]},i.prototype.readUInt16LE=function(r,t){return t||M(r,2,this.length),this[r]|this[r+1]<<8},i.prototype.readUInt16BE=function(r,t){return t||M(r,2,this.length),this[r]<<8|this[r+1]},i.prototype.readUInt32LE=function(r,t){return t||M(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},i.prototype.readUInt32BE=function(r,t){return t||M(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},i.prototype.readIntLE=function(r,t,e){r|=0,t|=0,e||M(r,t,this.length);for(var n=this[r],o=1,i=0;++i<t&&(o*=256);)n+=this[r+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(r,t,e){r|=0,t|=0,e||M(r,t,this.length);for(var n=t,o=1,i=this[r+--n];n>0&&(o*=256);)i+=this[r+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(r,t){return t||M(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},i.prototype.readInt16LE=function(r,t){t||M(r,2,this.length);var e=this[r]|this[r+1]<<8;return 32768&e?4294901760|e:e},i.prototype.readInt16BE=function(r,t){t||M(r,2,this.length);var e=this[r+1]|this[r]<<8;return 32768&e?4294901760|e:e},i.prototype.readInt32LE=function(r,t){return t||M(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},i.prototype.readInt32BE=function(r,t){return t||M(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},i.prototype.readFloatLE=function(r,t){return t||M(r,4,this.length),Z.read(this,r,!0,23,4)},i.prototype.readFloatBE=function(r,t){return t||M(r,4,this.length),Z.read(this,r,!1,23,4)},i.prototype.readDoubleLE=function(r,t){return t||M(r,8,this.length),Z.read(this,r,!0,52,8)},i.prototype.readDoubleBE=function(r,t){return t||M(r,8,this.length),Z.read(this,r,!1,52,8)},i.prototype.writeUIntLE=function(r,t,e,n){if(r=+r,t|=0,e|=0,!n){x(this,r,t,e,Math.pow(2,8*e)-1,0)}var o=1,i=0;for(this[t]=255&r;++i<e&&(o*=256);)this[t+i]=r/o&255;return t+e},i.prototype.writeUIntBE=function(r,t,e,n){if(r=+r,t|=0,e|=0,!n){x(this,r,t,e,Math.pow(2,8*e)-1,0)}var o=e-1,i=1;for(this[t+o]=255&r;--o>=0&&(i*=256);)this[t+o]=r/i&255;return t+e},i.prototype.writeUInt8=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=255&r,t+1},i.prototype.writeUInt16LE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):L(this,r,t,!0),t+2},i.prototype.writeUInt16BE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):L(this,r,t,!1),t+2},i.prototype.writeUInt32LE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r):O(this,r,t,!0),t+4},i.prototype.writeUInt32BE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):O(this,r,t,!1),t+4},i.prototype.writeIntLE=function(r,t,e,n){if(r=+r,t|=0,!n){var o=Math.pow(2,8*e-1);x(this,r,t,e,o-1,-o)}var i=0,a=1,f=0;for(this[t]=255&r;++i<e&&(a*=256);)r<0&&0===f&&0!==this[t+i-1]&&(f=1),this[t+i]=(r/a>>0)-f&255;return t+e},i.prototype.writeIntBE=function(r,t,e,n){if(r=+r,t|=0,!n){var o=Math.pow(2,8*e-1);x(this,r,t,e,o-1,-o)}var i=e-1,a=1,f=0;for(this[t+i]=255&r;--i>=0&&(a*=256);)r<0&&0===f&&0!==this[t+i+1]&&(f=1),this[t+i]=(r/a>>0)-f&255;return t+e},i.prototype.writeInt8=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=255&r,t+1},i.prototype.writeInt16LE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):L(this,r,t,!0),t+2},i.prototype.writeInt16BE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):L(this,r,t,!1),t+2},i.prototype.writeInt32LE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):O(this,r,t,!0),t+4},i.prototype.writeInt32BE=function(r,t,e){return r=+r,t|=0,e||x(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),i.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):O(this,r,t,!1),t+4},i.prototype.writeFloatLE=function(r,t,e){return X(this,r,t,!0,e)},i.prototype.writeFloatBE=function(r,t,e){return X(this,r,t,!1,e)},i.prototype.writeDoubleLE=function(r,t,e){return N(this,r,t,!0,e)},i.prototype.writeDoubleBE=function(r,t,e){return N(this,r,t,!1,e)},i.prototype.copy=function(r,t,e,n){if(e||(e=0),n||0===n||(n=this.length),t>=r.length&&(t=r.length),t||(t=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),r.length-t<n-e&&(n=r.length-t+e);var o,a=n-e;if(this===r&&e<t&&t<n)for(o=a-1;o>=0;--o)r[o+t]=this[o+e];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)r[o+t]=this[o+e];else Uint8Array.prototype.set.call(r,this.subarray(e,e+a),t);return a},i.prototype.fill=function(r,t,e,n){if("string"===typeof r){if("string"===typeof t?(n=t,t=0,e=this.length):"string"===typeof e&&(n=e,e=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof r&&(r&=255);if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;t>>>=0,e=void 0===e?this.length:e>>>0,r||(r=0);var a;if("number"===typeof r)for(a=t;a<e;++a)this[a]=r;else{var f=i.isBuffer(r)?r:q(new i(r,n).toString()),s=f.length;for(a=0;a<e-t;++a)this[a+t]=f[a%s]}return this};var rr=/[^+\/0-9A-Za-z-_]/g}).call(t,e(3))},function(r,t,e){var n=this,o=e(2),i=e(7);onmessage=function(r){n.width=r.data.width,n.height=r.data.height,n.filesToUpload=r.data.files,n.image=r.data.image;for(var t=0;t<n.filesToUpload.length;t++){var e=n.filesToUpload[t];!function(r){var t=new FileReader;t.onload=function(t){var e=i.decode(t.target.result),a=o(e,n.width,n.height),f=i.encode({data:a.data,width:n.width,height:n.height},95),s=new Blob([f.data],{type:"Image/jpeg"});postMessage({image:s,filename:r.name})},t.readAsArrayBuffer(r)}(e)}},Uint8ToString=function(r){for(var t=[],e=0;e<r.length;e+=32768)t.push(String.fromCharCode.apply(null,r.subarray(e,e+32768)));return t.join("")}},function(r,t,e){"use strict";(function(t){function e(r,t){for(var e=0,n=0;n<t.height;n++)for(var o=0;o<t.width;o++){var i=Math.floor(o*r.width/t.width),a=Math.floor(n*r.height/t.height),f=4*(a*r.width+i);t.data[e++]=r.data[f++],t.data[e++]=r.data[f++],t.data[e++]=r.data[f++],t.data[e++]=r.data[f++]}}function n(r,t){function e(r,t,e,n,o){return Math.round((r-t)*o+(e-r)*n)}function n(t,n,o,i,a){var f=r.data[4*(o*r.width+i)+t];return i===a?f:e(n,i,a,f,r.data[4*(o*r.width+a)+t])}function o(r,t,o,i,a,f,s){var u=n(r,t,f,o,i);return f===s?u:e(a,f,s,u,n(r,t,s,o,i))}for(var i=0,a=0;a<t.height;a++)for(var f=0;f<t.width;f++){var s=f*r.width/t.width,u=a*r.height/t.height,h=Math.floor(s),c=Math.floor(u),l=Math.min(Math.ceil(s),r.width-1),p=Math.min(Math.ceil(u),r.height-1);t.data[i++]=o(0,s,h,l,u,c,p),t.data[i++]=o(1,s,h,l,u,c,p),t.data[i++]=o(2,s,h,l,u,c,p),t.data[i++]=o(3,s,h,l,u,c,p)}}r.exports=function(r,o,i,a){a=a||"biliniear-interp";var f=void 0;switch(a){case"nearest-neighbor":f=e;break;case"biliniear-interp":f=n;break;default:throw new Error("Unknown algorithm: "+a)}var s=t.allocUnsafe(o*i*4),u={width:o,height:i,data:s};return f(r,u),u}}).call(t,e(0).Buffer)},function(r,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(e=window)}r.exports=e},function(r,t,e){"use strict";function n(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function o(r){var t=n(r),e=t[0],o=t[1];return 3*(e+o)/4-o}function i(r,t,e){return 3*(t+e)/4-e}function a(r){for(var t,e=n(r),o=e[0],a=e[1],f=new l(i(r,o,a)),s=0,u=a>0?o-4:o,h=0;h<u;h+=4)t=c[r.charCodeAt(h)]<<18|c[r.charCodeAt(h+1)]<<12|c[r.charCodeAt(h+2)]<<6|c[r.charCodeAt(h+3)],f[s++]=t>>16&255,f[s++]=t>>8&255,f[s++]=255&t;return 2===a&&(t=c[r.charCodeAt(h)]<<2|c[r.charCodeAt(h+1)]>>4,f[s++]=255&t),1===a&&(t=c[r.charCodeAt(h)]<<10|c[r.charCodeAt(h+1)]<<4|c[r.charCodeAt(h+2)]>>2,f[s++]=t>>8&255,f[s++]=255&t),f}function f(r){return h[r>>18&63]+h[r>>12&63]+h[r>>6&63]+h[63&r]}function s(r,t,e){for(var n,o=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(255&r[i+2]),o.push(f(n));return o.join("")}function u(r){for(var t,e=r.length,n=e%3,o=[],i=0,a=e-n;i<a;i+=16383)o.push(s(r,i,i+16383>a?a:i+16383));return 1===n?(t=r[e-1],o.push(h[t>>2]+h[t<<4&63]+"==")):2===n&&(t=(r[e-2]<<8)+r[e-1],o.push(h[t>>10]+h[t>>4&63]+h[t<<2&63]+"=")),o.join("")}t.byteLength=o,t.toByteArray=a,t.fromByteArray=u;for(var h=[],c=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,d=p.length;g<d;++g)h[g]=p[g],c[p.charCodeAt(g)]=g;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(r,t){t.read=function(r,t,e,n,o){var i,a,f=8*o-n-1,s=(1<<f)-1,u=s>>1,h=-7,c=e?o-1:0,l=e?-1:1,p=r[t+c];for(c+=l,i=p&(1<<-h)-1,p>>=-h,h+=f;h>0;i=256*i+r[t+c],c+=l,h-=8);for(a=i&(1<<-h)-1,i>>=-h,h+=n;h>0;a=256*a+r[t+c],c+=l,h-=8);if(0===i)i=1-u;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(r,t,e,n,o,i){var a,f,s,u=8*i-o-1,h=(1<<u)-1,c=h>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+c>=1?l/s:l*Math.pow(2,1-c),t*s>=2&&(a++,s/=2),a+c>=h?(f=0,a=h):a+c>=1?(f=(t*s-1)*Math.pow(2,o),a+=c):(f=t*Math.pow(2,c-1)*Math.pow(2,o),a=0));o>=8;r[e+p]=255&f,p+=g,f/=256,o-=8);for(a=a<<o|f,u+=o;u>0;r[e+p]=255&a,p+=g,a/=256,u-=8);r[e+p-g]|=128*d}},function(r,t){var e={}.toString;r.exports=Array.isArray||function(r){return"[object Array]"==e.call(r)}},function(r,t,e){var n=e(8),o=e(9);r.exports={encode:n,decode:o}},function(r,t,e){(function(t){function e(r){function e(r){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],e=0;e<64;e++){var n=T((t[e]*r+50)/100);n<1?n=1:n>255&&(n=255),R[j[e]]=n}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var a=T((o[i]*r+50)/100);a<1?a=1:a>255&&(a=255),_[j[i]]=a}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],s=0,u=0;u<8;u++)for(var h=0;h<8;h++)U[s]=1/(R[j[s]]*f[u]*f[h]*8),B[s]=1/(_[j[s]]*f[u]*f[h]*8),s++}function n(r,t){for(var e=0,n=0,o=new Array,i=1;i<=16;i++){for(var a=1;a<=r[i];a++)o[t[n]]=[],o[t[n]][0]=e,o[t[n]][1]=i,n++,e++;e*=2}return o}function o(){m=n(z,F),b=n(V,G),A=n(q,H),E=n(J,Q)}function i(){for(var r=1,t=2,e=1;e<=15;e++){for(var n=r;n<t;n++)Y[32767+n]=e,S[32767+n]=[],S[32767+n][1]=e,S[32767+n][0]=n;for(var o=-(t-1);o<=-r;o++)Y[32767+o]=e,S[32767+o]=[],S[32767+o][1]=e,S[32767+o][0]=t-1+o;r<<=1,t<<=1}}function a(){for(var r=0;r<256;r++)N[r]=19595*r,N[r+256>>0]=38470*r,N[r+512>>0]=7471*r+32768,N[r+768>>0]=-11059*r,N[r+1024>>0]=-21709*r,N[r+1280>>0]=32768*r+8421375,N[r+1536>>0]=-27439*r,N[r+1792>>0]=-5329*r}function f(r){for(var t=r[0],e=r[1]-1;e>=0;)t&1<<e&&(M|=1<<x),e--,--x<0&&(255==M?(s(255),s(0)):s(M),x=7,M=0)}function s(r){I.push(r)}function u(r){s(r>>8&255),s(255&r)}function h(r,t){var e,n,o,i,a,f,s,u,h,c=0;for(h=0;h<8;++h){e=r[c],n=r[c+1],o=r[c+2],i=r[c+3],a=r[c+4],f=r[c+5],s=r[c+6],u=r[c+7];var l=e+u,p=e-u,g=n+s,d=n-s,v=o+f,w=o-f,y=i+a,m=i-a,b=l+y,A=l-y,E=g+v,P=g-v;r[c]=b+E,r[c+4]=b-E;var T=.707106781*(P+A);r[c+2]=A+T,r[c+6]=A-T,b=m+w,E=w+d,P=d+p;var R=.382683433*(b-P),_=.5411961*b+R,U=1.306562965*P+R,B=.707106781*E,S=p+B,Y=p-B;r[c+5]=Y+_,r[c+3]=Y-_,r[c+1]=S+U,r[c+7]=S-U,c+=8}for(c=0,h=0;h<8;++h){e=r[c],n=r[c+8],o=r[c+16],i=r[c+24],a=r[c+32],f=r[c+40],s=r[c+48],u=r[c+56];var C=e+u,I=e-u,M=n+s,x=n-s,L=o+f,O=o-f,D=i+a,X=i-a,N=C+D,j=C-D,z=M+L,F=M-L;r[c]=N+z,r[c+32]=N-z;var q=.707106781*(F+j);r[c+16]=j+q,r[c+48]=j-q,N=X+O,z=O+x,F=x+I;var H=.382683433*(N-F),V=.5411961*N+H,G=1.306562965*F+H,J=.707106781*z,Q=I+J,W=I-J;r[c+40]=W+V,r[c+24]=W-V,r[c+8]=Q+G,r[c+56]=Q-G,c++}var Z;for(h=0;h<64;++h)Z=r[h]*t[h],k[h]=Z>0?Z+.5|0:Z-.5|0;return k}function c(){u(65504),u(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),u(1),u(1),s(0),s(0)}function l(r,t){u(65472),u(17),s(8),u(t),u(r),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function p(){u(65499),u(132),s(0);for(var r=0;r<64;r++)s(R[r]);s(1);for(var t=0;t<64;t++)s(_[t])}function g(){u(65476),u(418),s(0);for(var r=0;r<16;r++)s(z[r+1]);for(var t=0;t<=11;t++)s(F[t]);s(16);for(var e=0;e<16;e++)s(q[e+1]);for(var n=0;n<=161;n++)s(H[n]);s(1);for(var o=0;o<16;o++)s(V[o+1]);for(var i=0;i<=11;i++)s(G[i]);s(17);for(var a=0;a<16;a++)s(J[a+1]);for(var f=0;f<=161;f++)s(Q[f])}function d(){u(65498),u(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function v(r,t,e,n,o){for(var i,a=o[0],s=o[240],u=h(r,t),c=0;c<64;++c)C[j[c]]=u[c];var l=C[0]-e;e=C[0],0==l?f(n[0]):(i=32767+l,f(n[Y[i]]),f(S[i]));for(var p=63;p>0&&0==C[p];p--);if(0==p)return f(a),e;for(var g,d=1;d<=p;){for(var v=d;0==C[d]&&d<=p;++d);var w=d-v;if(w>=16){g=w>>4;for(var y=1;y<=g;++y)f(s);w&=15}i=32767+C[d],f(o[(w<<4)+Y[i]]),f(S[i]),d++}return 63!=p&&f(a),e}function w(){for(var r=String.fromCharCode,t=0;t<256;t++)X[t]=r(t)}function y(r){if(r<=0&&(r=1),r>100&&(r=100),P!=r){var t=0;t=r<50?Math.floor(5e3/r):Math.floor(200-2*r),e(t),P=r}}var m,b,A,E,P,T=(Math.round,Math.floor),R=new Array(64),_=new Array(64),U=new Array(64),B=new Array(64),S=new Array(65535),Y=new Array(65535),k=new Array(64),C=new Array(64),I=[],M=0,x=7,L=new Array(64),O=new Array(64),D=new Array(64),X=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(r,e){(new Date).getTime();e&&y(e),I=new Array,M=0,x=7,u(65496),c(),p(),l(r.width,r.height),g(),d();var n=0,o=0,i=0;M=0,x=7,this.encode.displayName="_encode_";for(var a,s,h,w,P,T,R,_,S,Y=r.data,k=r.width,C=r.height,X=4*k,j=0;j<C;){for(a=0;a<X;){for(P=X*j+a,T=P,R=-1,_=0,S=0;S<64;S++)_=S>>3,R=4*(7&S),T=P+_*X+R,j+_>=C&&(T-=X*(j+1+_-C)),a+R>=X&&(T-=a+R-X+4),s=Y[T++],h=Y[T++],w=Y[T++],L[S]=(N[s]+N[h+256>>0]+N[w+512>>0]>>16)-128,O[S]=(N[s+768>>0]+N[h+1024>>0]+N[w+1280>>0]>>16)-128,D[S]=(N[s+1280>>0]+N[h+1536>>0]+N[w+1792>>0]>>16)-128;n=v(L,U,n,m,A),o=v(O,B,o,b,E),i=v(D,B,i,b,E),a+=32}j+=8}if(x>=0){var z=[];z[1]=x+1,z[0]=(1<<x+1)-1,f(z)}return u(65497),new t(I)},function(){(new Date).getTime();r||(r=50),w(),o(),i(),a(),y(r),(new Date).getTime()}()}function n(r,t){return"undefined"===typeof t&&(t=50),{data:new e(t).encode(r,t),width:r.width,height:r.height}}r.exports=n}).call(t,e(0).Buffer)},function(r,t,e){(function(t){function e(r,e){var o=new Uint8Array(r),i=new n;i.parse(o);var a={width:i.width,height:i.height,data:e?new Uint8Array(i.width*i.height*4):new t(i.width*i.height*4)};return i.copyToImageData(a),a}var n=function(){"use strict";function r(){}function t(r,t){for(var e,n,o=0,i=[],a=16;a>0&&!r[a-1];)a--;i.push({children:[],index:0});var f,s=i[0];for(e=0;e<a;e++){for(n=0;n<r[e];n++){for(s=i.pop(),s.children[s.index]=t[o];s.index>0;)s=i.pop();for(s.index++,i.push(s);i.length<=e;)i.push(f={children:[],index:0}),s.children[s.index]=f.children,s=f;o++}e+1<a&&(i.push(f={children:[],index:0}),s.children[s.index]=f.children,s=f)}return i[0].children}function e(r,t,e,n,o,a,f,s,u){function h(){if(Y>0)return Y--,S>>Y&1;if(255==(S=r[t++])){var e=r[t++];if(e)throw new Error("unexpected marker: "+(S<<8|e).toString(16))}return Y=7,S>>>7}function c(r){for(var t,e=r;null!==(t=h());){if("number"===typeof(e=e[t]))return e;if("object"!==typeof e)throw new Error("invalid huffman sequence")}return null}function l(r){for(var t=0;r>0;){var e=h();if(null===e)return;t=t<<1|e,r--}return t}function p(r){var t=l(r);return t>=1<<r-1?t:t+(-1<<r)+1}function g(r,t){var e=c(r.huffmanTableDC),n=0===e?0:p(e);t[0]=r.pred+=n;for(var o=1;o<64;){var a=c(r.huffmanTableAC),f=15&a,s=a>>4;if(0!==f){o+=s;t[i[o]]=p(f),o++}else{if(s<15)break;o+=16}}}function d(r,t){var e=c(r.huffmanTableDC),n=0===e?0:p(e)<<u;t[0]=r.pred+=n}function v(r,t){t[0]|=h()<<u}function w(r,t){if(k>0)return void k--;for(var e=a,n=f;e<=n;){var o=c(r.huffmanTableAC),s=15&o,h=o>>4;if(0!==s){e+=h;t[i[e]]=p(s)*(1<<u),e++}else{if(h<15){k=l(h)+(1<<h)-1;break}e+=16}}}function y(r,t){for(var e=a,n=f,o=0;e<=n;){var s=i[e],g=t[s]<0?-1:1;switch(C){case 0:var d=c(r.huffmanTableAC),v=15&d,o=d>>4;if(0===v)o<15?(k=l(o)+(1<<o),C=4):(o=16,C=1);else{if(1!==v)throw new Error("invalid ACn encoding");m=p(v),C=o?2:3}continue;case 1:case 2:t[s]?t[s]+=(h()<<u)*g:0===--o&&(C=2==C?3:0);break;case 3:t[s]?t[s]+=(h()<<u)*g:(t[s]=m<<u,C=0);break;case 4:t[s]&&(t[s]+=(h()<<u)*g)}e++}4===C&&0===--k&&(C=0)}var m,b,A,E,P,T,R,_=(e.precision,e.samplesPerLine,e.scanLines,e.mcusPerLine),U=e.progressive,B=(e.maxH,e.maxV,t),S=0,Y=0,k=0,C=0,I=n.length;R=U?0===a?0===s?d:v:0===s?w:y:g;var M,x,L=0;x=1==I?n[0].blocksPerLine*n[0].blocksPerColumn:_*e.mcusPerColumn,o||(o=x);for(var O,D;L<x;){for(A=0;A<I;A++)n[A].pred=0;if(k=0,1==I)for(b=n[0],T=0;T<o;T++)!function(r,t,e){var n=e/r.blocksPerLine|0,o=e%r.blocksPerLine;t(r,r.blocks[n][o])}(b,R,L),L++;else for(T=0;T<o;T++){for(A=0;A<I;A++)for(b=n[A],O=b.h,D=b.v,E=0;E<D;E++)for(P=0;P<O;P++)!function(r,t,e,n,o){var i=e/_|0,a=e%_,f=i*r.v+n,s=a*r.h+o;t(r,r.blocks[f][s])}(b,R,L,E,P);if(++L===x)break}if(Y=0,(M=r[t]<<8|r[t+1])<65280)throw new Error("marker was not found");if(!(M>=65488&&M<=65495))break;t+=2}return t-B}function n(r,t){for(var e,n,o=[],i=t.blocksPerLine,g=t.blocksPerColumn,d=i<<3,v=new Int32Array(64),w=new Uint8Array(64),y=0;y<g;y++){var m=y<<3;for(e=0;e<8;e++)o.push(new Uint8Array(d));for(var b=0;b<i;b++){!function(r,e,n){var o,i,g,d,v,w,y,m,b,A,E=t.quantizationTable,P=n;for(A=0;A<64;A++)P[A]=r[A]*E[A];for(A=0;A<8;++A){var T=8*A;0!=P[1+T]||0!=P[2+T]||0!=P[3+T]||0!=P[4+T]||0!=P[5+T]||0!=P[6+T]||0!=P[7+T]?(o=l*P[0+T]+128>>8,i=l*P[4+T]+128>>8,g=P[2+T],d=P[6+T],v=p*(P[1+T]-P[7+T])+128>>8,m=p*(P[1+T]+P[7+T])+128>>8,w=P[3+T]<<4,y=P[5+T]<<4,b=o-i+1>>1,o=o+i+1>>1,i=b,b=g*c+d*h+128>>8,g=g*h-d*c+128>>8,d=b,b=v-y+1>>1,v=v+y+1>>1,y=b,b=m+w+1>>1,w=m-w+1>>1,m=b,b=o-d+1>>1,o=o+d+1>>1,d=b,b=i-g+1>>1,i=i+g+1>>1,g=b,b=v*u+m*s+2048>>12,v=v*s-m*u+2048>>12,m=b,b=w*f+y*a+2048>>12,w=w*a-y*f+2048>>12,y=b,P[0+T]=o+m,P[7+T]=o-m,P[1+T]=i+y,P[6+T]=i-y,P[2+T]=g+w,P[5+T]=g-w,P[3+T]=d+v,P[4+T]=d-v):(b=l*P[0+T]+512>>10,P[0+T]=b,P[1+T]=b,P[2+T]=b,P[3+T]=b,P[4+T]=b,P[5+T]=b,P[6+T]=b,P[7+T]=b)}for(A=0;A<8;++A){var R=A;0!=P[8+R]||0!=P[16+R]||0!=P[24+R]||0!=P[32+R]||0!=P[40+R]||0!=P[48+R]||0!=P[56+R]?(o=l*P[0+R]+2048>>12,i=l*P[32+R]+2048>>12,g=P[16+R],d=P[48+R],v=p*(P[8+R]-P[56+R])+2048>>12,m=p*(P[8+R]+P[56+R])+2048>>12,w=P[24+R],y=P[40+R],b=o-i+1>>1,o=o+i+1>>1,i=b,b=g*c+d*h+2048>>12,g=g*h-d*c+2048>>12,d=b,b=v-y+1>>1,v=v+y+1>>1,y=b,b=m+w+1>>1,w=m-w+1>>1,m=b,b=o-d+1>>1,o=o+d+1>>1,d=b,b=i-g+1>>1,i=i+g+1>>1,g=b,b=v*u+m*s+2048>>12,v=v*s-m*u+2048>>12,m=b,b=w*f+y*a+2048>>12,w=w*a-y*f+2048>>12,y=b,P[0+R]=o+m,P[56+R]=o-m,P[8+R]=i+y,P[48+R]=i-y,P[16+R]=g+w,P[40+R]=g-w,P[24+R]=d+v,P[32+R]=d-v):(b=l*n[A+0]+8192>>14,P[0+R]=b,P[8+R]=b,P[16+R]=b,P[24+R]=b,P[32+R]=b,P[40+R]=b,P[48+R]=b,P[56+R]=b)}for(A=0;A<64;++A){var _=128+(P[A]+8>>4);e[A]=_<0?0:_>255?255:_}}(t.blocks[y][b],w,v);var A=0,E=b<<3;for(n=0;n<8;n++){var P=o[m+n];for(e=0;e<8;e++)P[E+e]=w[A++]}}}return o}function o(r){return r<0?0:r>255?255:r}var i=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),a=4017,f=799,s=3406,u=2276,h=1567,c=3784,l=5793,p=2896;return r.prototype={load:function(r){var t=new XMLHttpRequest;t.open("GET",r,!0),t.responseType="arraybuffer",t.onload=function(){var r=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(r),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(r){function o(){var t=r[s]<<8|r[s+1];return s+=2,t}var a,f,s=0,u=(r.length,null),h=null,c=[],l=[],p=[],g=[],d=o();if(65496!=d)throw new Error("SOI not found");for(d=o();65497!=d;){var v,w;switch(d){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var y=function(){var t=o(),e=r.subarray(s,s+t-2);return s+=e.length,e}();65504===d&&74===y[0]&&70===y[1]&&73===y[2]&&70===y[3]&&0===y[4]&&(u={version:{major:y[5],minor:y[6]},densityUnits:y[7],xDensity:y[8]<<8|y[9],yDensity:y[10]<<8|y[11],thumbWidth:y[12],thumbHeight:y[13],thumbData:y.subarray(14,14+3*y[12]*y[13])}),65518===d&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&0===y[5]&&(h={version:y[6],flags0:y[7]<<8|y[8],flags1:y[9]<<8|y[10],transformCode:y[11]});break;case 65499:for(var m=o(),b=m+s-2;s<b;){var A=r[s++],E=new Int32Array(64);if(A>>4===0)for(w=0;w<64;w++){var P=i[w];E[P]=r[s++]}else{if(A>>4!==1)throw new Error("DQT: invalid table spec");for(w=0;w<64;w++){var P=i[w];E[P]=o()}}c[15&A]=E}break;case 65472:case 65473:case 65474:o(),a={},a.extended=65473===d,a.progressive=65474===d,a.precision=r[s++],a.scanLines=o(),a.samplesPerLine=o(),a.components={},a.componentsOrder=[];var T,R=r[s++];for(v=0;v<R;v++){T=r[s];var _=r[s+1]>>4,U=15&r[s+1],B=r[s+2];a.componentsOrder.push(T),a.components[T]={h:_,v:U,quantizationIdx:B},s+=3}!function(r){var t,e,n=0,o=0;for(e in r.components)r.components.hasOwnProperty(e)&&(t=r.components[e],n<t.h&&(n=t.h),o<t.v&&(o=t.v));var i=Math.ceil(r.samplesPerLine/8/n),a=Math.ceil(r.scanLines/8/o);for(e in r.components)if(r.components.hasOwnProperty(e)){t=r.components[e];for(var f=Math.ceil(Math.ceil(r.samplesPerLine/8)*t.h/n),s=Math.ceil(Math.ceil(r.scanLines/8)*t.v/o),u=i*t.h,h=a*t.v,c=[],l=0;l<h;l++){for(var p=[],g=0;g<u;g++)p.push(new Int32Array(64));c.push(p)}t.blocksPerLine=f,t.blocksPerColumn=s,t.blocks=c}r.maxH=n,r.maxV=o,r.mcusPerLine=i,r.mcusPerColumn=a}(a),l.push(a);break;case 65476:var S=o();for(v=2;v<S;){var Y=r[s++],k=new Uint8Array(16),C=0;for(w=0;w<16;w++,s++)C+=k[w]=r[s];var I=new Uint8Array(C);for(w=0;w<C;w++,s++)I[w]=r[s];v+=17+C,(Y>>4===0?g:p)[15&Y]=t(k,I)}break;case 65501:o(),f=o();break;case 65498:var M,x=(o(),r[s++]),L=[];for(v=0;v<x;v++){M=a.components[r[s++]];var O=r[s++];M.huffmanTableDC=g[O>>4],M.huffmanTableAC=p[15&O],L.push(M)}var D=r[s++],X=r[s++],N=r[s++],j=e(r,s,a,L,f,D,X,N>>4,15&N);s+=j;break;case 65535:255!==r[s]&&s--;break;default:if(255==r[s-3]&&r[s-2]>=192&&r[s-2]<=254){s-=3;break}throw new Error("unknown JPEG marker "+d.toString(16))}d=o()}if(1!=l.length)throw new Error("only single frame JPEGs supported");for(var v=0;v<l.length;v++){var z=l[v].components;for(var w in z)z[w].quantizationTable=c[z[w].quantizationIdx],delete z[w].quantizationIdx}this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=u,this.adobe=h,this.components=[];for(var v=0;v<a.componentsOrder.length;v++){var M=a.components[a.componentsOrder[v]];this.components.push({lines:n(a,M),scaleX:M.h/a.maxH,scaleY:M.v/a.maxV})}},getData:function(r,t){var e,n,i,a,f,s,u,h,c,l,p,g,d,v,w,y,m,b,A,E,P,T=this.width/r,R=this.height/t,_=0,U=r*t*this.components.length,B=new Uint8Array(U);switch(this.components.length){case 1:for(e=this.components[0],l=0;l<t;l++)for(f=e.lines[0|l*e.scaleY*R],c=0;c<r;c++)p=f[0|c*e.scaleX*T],B[_++]=p;break;case 2:for(e=this.components[0],n=this.components[1],l=0;l<t;l++)for(f=e.lines[0|l*e.scaleY*R],s=n.lines[0|l*n.scaleY*R],c=0;c<r;c++)p=f[0|c*e.scaleX*T],B[_++]=p,p=s[0|c*n.scaleX*T],B[_++]=p;break;case 3:for(P=!0,this.adobe&&this.adobe.transformCode?P=!0:"undefined"!==typeof this.colorTransform&&(P=!!this.colorTransform),e=this.components[0],n=this.components[1],i=this.components[2],l=0;l<t;l++)for(f=e.lines[0|l*e.scaleY*R],s=n.lines[0|l*n.scaleY*R],u=i.lines[0|l*i.scaleY*R],c=0;c<r;c++)P?(p=f[0|c*e.scaleX*T],g=s[0|c*n.scaleX*T],d=u[0|c*i.scaleX*T],b=o(p+1.402*(d-128)),A=o(p-.3441363*(g-128)-.71413636*(d-128)),E=o(p+1.772*(g-128))):(b=f[0|c*e.scaleX*T],A=s[0|c*n.scaleX*T],E=u[0|c*i.scaleX*T]),B[_++]=b,B[_++]=A,B[_++]=E;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(P=!1,this.adobe&&this.adobe.transformCode?P=!0:"undefined"!==typeof this.colorTransform&&(P=!!this.colorTransform),e=this.components[0],n=this.components[1],i=this.components[2],a=this.components[3],l=0;l<t;l++)for(f=e.lines[0|l*e.scaleY*R],s=n.lines[0|l*n.scaleY*R],u=i.lines[0|l*i.scaleY*R],h=a.lines[0|l*a.scaleY*R],c=0;c<r;c++)P?(p=f[0|c*e.scaleX*T],g=s[0|c*n.scaleX*T],d=u[0|c*i.scaleX*T],v=h[0|c*a.scaleX*T],w=255-o(p+1.402*(d-128)),y=255-o(p-.3441363*(g-128)-.71413636*(d-128)),m=255-o(p+1.772*(g-128))):(w=f[0|c*e.scaleX*T],y=s[0|c*n.scaleX*T],m=u[0|c*i.scaleX*T],v=h[0|c*a.scaleX*T]),B[_++]=255-w,B[_++]=255-y,B[_++]=255-m,B[_++]=255-v;break;default:throw"Unsupported color mode"}return B},copyToImageData:function(r){var t,e,n,i,a,f,s,u,h,c=r.width,l=r.height,p=r.data,g=this.getData(c,l),d=0,v=0;switch(this.components.length){case 1:for(e=0;e<l;e++)for(t=0;t<c;t++)n=g[d++],p[v++]=n,p[v++]=n,p[v++]=n,p[v++]=255;break;case 3:for(e=0;e<l;e++)for(t=0;t<c;t++)s=g[d++],u=g[d++],h=g[d++],p[v++]=s,p[v++]=u,p[v++]=h,p[v++]=255;break;case 4:for(e=0;e<l;e++)for(t=0;t<c;t++)a=g[d++],f=g[d++],n=g[d++],i=g[d++],s=255-o(a*(1-i/255)+i),u=255-o(f*(1-i/255)+i),h=255-o(n*(1-i/255)+i),p[v++]=s,p[v++]=u,p[v++]=h,p[v++]=255;break;default:throw"Unsupported color mode"}}},r}();r.exports=e}).call(t,e(0).Buffer)}]);
//# sourceMappingURL=2f6c921a1996b6b0cdc0.worker.js.map